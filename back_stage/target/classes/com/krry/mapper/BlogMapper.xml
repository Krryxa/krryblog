<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.krry.mapper.BlogMapper" >
	
	<!-- 通用sql -->
	<sql id="blog_column">
		title,
		content_md,
		content_hm,
		image,
		classifyId,
		label,
		hit,
		comment,
		createTime,
		updateTime,
		status
	</sql>
	
	<!-- 查询 -->
	<select id="getBlog" resultType="Blog">
		SELECT
			id,
			classify, <!-- 这里使用关联查询出分类名称 -->
			<include refid="blog_column"></include>
		FROM
			blog
	</select>
	
	<!-- 新增 -->
	<insert id="addBlog" useGeneratedKeys="true" keyProperty="id" parameterType="Blog">  
	    insert into blog(
	    	<include refid="blog_column"></include>
	    )
	    values(
	    	#{title},
			#{content_md},
			#{content_hm},
			#{image},
			#{classifyId},
			#{label},
			#{hit},
			#{comment},
			#{createTime},
			#{updateTime},
			#{status}
	    )
	</insert>  
	
	
</mapper>
